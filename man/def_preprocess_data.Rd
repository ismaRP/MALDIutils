% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/preprocess.R
\name{def_preprocess_data}
\alias{def_preprocess_data}
\title{def_preprocess_data}
\usage{
def_preprocess_data(
  indir,
  readf = c("fread", "table", "mzml"),
  peptides = NULL,
  outdir = NULL,
  chunks = 50,
  smooth_method = c("SavitzkyGolay", "Wavelet"),
  thresh.scale = 2.5,
  hws_smooth = 20,
  iters = 20,
  hws_peak = 20,
  snr = 0,
  tol = 0.00015,
  n_isopeaks = 6,
  min_isopeaks = 4,
  ncores = NULL,
  iocores = 1
)
}
\arguments{
\item{indir}{Folder containing spectra.}

\item{readf}{A string value. choose function to use to read spectra.
Currently restricted to one of "fread", "table" or "mzml"}

\item{peptides}{A dataframe with peptide information. It must contain at least 3 columns,
peptide number or ID, name, and m/z. IF NULL}

\item{outdir}{Folder where one peaks file for each sample should be written.
If NULL (default), no files are written.}

\item{chunks}{Number of chunks all the spectra should be divided into for reading and
processing. If all spectra is loaded and processed at once, i.e. chunks=1,
it can overload RAM memory. If chunks>1 data is loaded and processed to the
much lighter list of peaks in chunks batches.}

\item{smooth_method}{Smootherning method, one of "SavitzkyGolay" or "Wavelet".
SavitzkyGolay uses \code{\link[MALDIquant]{smoothIntensity}} together with
\code{hws_smooth} parameter
Wavelet uses \code{\link[MALDIrppa]{wavSmoothing}} together with
\code{thresh.scale}}

\item{thresh.scale}{Smoothing factor for wavelet-based smoothing. Passed to \code{\link[MALDIrppa]{wavSmoothing}}}

\item{hws_smooth}{Half-window size parameter for smoothening. Passed to \code{\link[MALDIquant]{smoothIntensity}}}

\item{hws_peak}{Half-window size parameter for local maximum detection. Passed to \code{\link[MALDIquant]{detectPeaks}}}

\item{snr}{Signal to noise threshold for peak detection. Passed to \code{\link[MALDIquant]{detectPeaks}}}

\item{tol}{Tolerance factor for matching detected peaks to theoretical isotopic distribution.
Value used is m/z of monoisotopic peak * \code{tol}.}

\item{n_isopeaks}{Number of isotopic peaks to pick. Default is 5 and the maximum permitted.}

\item{min_isopeaks}{If less than min_isopeaks consecutive (about 1 Da difference) isotopic peaks
are detected, the whole isotopic envelope is discarded. Default is 4}

\item{ncores}{Number of cores used for the preprocessing of spectra. The cores will work in
parallel with the different spectra within a chunk.}

\item{iocores}{Number of cores used for I/O operations. For some systems I/O operations involving
multiple cores reading or writing at the same time from disk increases time.}

\item{iter}{Iterations parameter for baseline detection. Passed to \code{\link[MALDIquant]{estimateBaseline}}}
}
\value{
A list of dataframes, 1 per sample. Each dataframe has 3 columns,
m/z, intensity and signal-to-noise ratio for each of the n_isopeaks from each
peptide.
}
\description{
Performs smoothening, baseline removal and peak detection on MALDI samples.
}
